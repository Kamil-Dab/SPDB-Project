<!DOCTYPE HTML>
<html>
    <head>
        <meta charset='utf-8' />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/ol@v7.2.2/dist/ol.js"></script>

        <title> SPDB </title>
    </head>

    <body>
        <div class="container"> 
            <div class="row">
                <div class="col border border-primary rounded m-2">
                    <div class='form-group p-3'>
                        <label> Nazwa: </label>
                        <input type="text" class='form-control m-1' name="name" id="name" placeholder="Politechnika Warszawska" /> 
                        <button type="button" onclick="searchPointByName($('#name').val())" class="btn btn-primary m-1"> Szukaj po nazwie </button>
                    </div>
                </div>
                <div class="col border border-primary rounded m-2">
                    <div class='form-group p-3'>
                        <label> Długość geograficzna </label>
                        <input type="text" class="form-control m-1" name="lon" id="lon" placeholder="21.0122" />
                        <label> Szerokość geograficzna </label>
                        <input type="text" class="form-control m-1" name="lat" id="lat" placeholder="52.2297" />
                        <button type="button" onclick="searchPointByCords($('#lon').val(), $('#lat').val())" class="btn btn-primary m-1"> Szukaj po współrzędnych </button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col border border-primary rounded m-2">
                    <div class='form-group p-3'>
                        <label> Maksymalne wydłużenie drogi w km </label>
                        <input type="text" class="form-control m-1" name="enlen" id="enlen" placeholder="20" value="20" />
                    </div>
                </div>

                <div class="col border border-primary rounded m-2">
                    <div class='form-group p-3'>
                        <label> Punkt startu poszukiwań na trasie w km </label>
                        <input type="text" class="form-control m-1" name="startPoint" id="startPoint" placeholder="20" value="20" />
                    </div>
                </div>

                <div class="col border border-primary rounded m-2">
                    <div class="form-group p-3">
                        <label> Liczba punktów POI do znalezienia </label>
                        <input type="text" class="form-control m-1" name="POIs" id="POIs" placeholder="3" value="3" />
                    </div>
                </div>

                <div class="col border border-primary rounded m-2">
                    <div class="form-group p-3">
                        <label> Typ punktu POI </label>
                        <div class="dropdown m-1">
                            <button class="btn btn-secondary dropdown-toggle p-3" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Wybierz z listy
                            </button>
                            <div class="dropdown-menu">
                                {% for ty in poi_types %}
                                <div class="dropdown-item" onclick="choosePOIFilter('{{ ty }}')"> {{ ty }} </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col border border-secondary rounded m-2">
                    <label> Mapa </label>
                    <div id="map" class="map d-flex justify-content-center" style="height:800px"></div>

                    <div class="d-flex justify-content-center">
                        <button type="button" onclick="setAsStart()" class="btn btn-primary m-1"> Ustaw jako start </button>
                        <button type="button" onclick="setAsEnd()" class="btn btn-primary m-1"> Ustaw jako koniec </button>
                        <button type="button" onclick="replaceStartEnd()" class="btn btn-primary m-1"> Zamień start z końcem </button>
                        <button type="button" onclick="findRoute($('#enlen').val(), $('#startPoint').val(), $('#POIs').val())" class="btn btn-primary m-1"> Znajdź drogę </button>
                        <button type="button" onclick="resetMap()" class="btn btn-secondary m-1"> Zresetuj </button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col border border-info rounded m-2">
                    <label> Dostępne punkty POI: </label>

                    <ol id="available_POI_list">
                    </ol>
                </div>

                <div class="col border border-info rounded m-2">
                    <label> Wybrane punkty POI: </label>

                    <ol id="selected_POI_list">
                    </ol>
                </div>
            </div>

            <div class="row">
                <div class="col border border-info rounded m-2">
                    <label> Informacje o znalezionej drodze </label>
                    <div class="form-group p-3">
                        <label> Całkowita długość w km </label>
                        <input type="text" class="form-control m-1" name="len" id="len" value="0" disabled />
                    </div>
                </div>
            </div>
        </div> 

        <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Wybierz punkt</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <ol id="pointSelector">
                </ol>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="smallModal">
          <div class="modal-dialog modal-sm">
            <div class="modal-content" id="smallModalContent">
            </div>
          </div>
        </div>

        <script type="text/javascript" src="/static/main"></script>
    </body>
</html>
